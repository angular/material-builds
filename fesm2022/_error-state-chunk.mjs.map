{"version":3,"file":"_error-state-chunk.mjs","sources":["../../../../../k8-fastbuild-ST-199a4f3c4e20/bin/src/material/core/common-behaviors/error-state.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {AbstractControl, FormGroupDirective, NgControl, NgForm} from '@angular/forms';\nimport {Subject} from 'rxjs';\nimport {ErrorStateMatcher as _ErrorStateMatcher} from '../error/error-options';\n\n// Declare ErrorStateMatcher as an interface to have compatibility with Closure Compiler.\ninterface ErrorStateMatcher extends _ErrorStateMatcher {}\n\n/**\n * Class that tracks the error state of a component.\n * @docs-private\n */\nexport class _ErrorStateTracker {\n  /** Whether the tracker is currently in an error state. */\n  errorState = false;\n\n  /** User-defined matcher for the error state. */\n  matcher: ErrorStateMatcher;\n\n  constructor(\n    private _defaultMatcher: ErrorStateMatcher | null,\n    public ngControl: NgControl | null,\n    private _parentFormGroup: FormGroupDirective | null,\n    private _parentForm: NgForm | null,\n    private _stateChanges: Subject<void>,\n  ) {}\n\n  /** Updates the error state based on the provided error state matcher. */\n  updateErrorState() {\n    const oldState = this.errorState;\n    const parent = this._parentFormGroup || this._parentForm;\n    const matcher = this.matcher || this._defaultMatcher;\n    const control = this.ngControl ? (this.ngControl.control as AbstractControl) : null;\n    const newState = matcher?.isErrorState(control, parent) ?? false;\n\n    if (newState !== oldState) {\n      this.errorState = newState;\n      this._stateChanges.next();\n    }\n  }\n}\n"],"names":["ngControl","matcher","constructor","_defaultMatcher","_parentFormGroup","_parentForm","_stateChanges","updateErrorState","oldState","errorState","parent","control","newState","isErrorState"],"mappings":";;EA4BWA,SAAA;;;;YAGc,GAAA,KAAA;EAWrBC,OAAA;EACEC,WAAAC,CAAAA,eAAA,EAAAH,SAAA,EAAAI,gBAAA,EAAAC,WAAA,EAAAC,aAAA,EAAA;IACA,IAAAH,CAAAA,eAAA,GAAAA,eAAA;IACF,IAAAH,CAAAA,SAAA,GAAAA,SAAA;;oBAXuE,GAAAK,WAAA;IAEvE,IAAAC,CAAAA,aAAA,GAAAA,aAAA;;kBAIAC,GAAA;IAEA,MAAAC,QAAY,GAAZ,IAAA,CAAAC,UAA2B;AACzB,IAAA,MAAAC,MAAA,GAAAN,IAAAA,CAAAA,gBAAA,IAAkB,IAAQ,CAAAC,WAAA;AAC1B,IAAA,MAAAJ,OAAA,GAAK,IAAL,CAAAA,OAAA,IAAyB,KAAAE,eAAA;IAC3B,MAAAQ,OAAA,OAAA,CAAAX,SAAA,OAAA,CAAAA,SAAA,CAAAW,OAAA,GAAA,IAAA;IACF,MAAAC,QAAA,GAAAX,OAAA,EAAAY,YAAA,CAAAF,OAAA,EAAAD,MAAA,CAAA,IAAA,KAAA;;;;;;;;;;"}
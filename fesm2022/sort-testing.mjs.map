{"version":3,"file":"sort-testing.mjs","sources":["../../../../../k8-fastbuild-ST-199a4f3c4e20/bin/src/material/sort/testing/sort-header-harness.ts","../../../../../k8-fastbuild-ST-199a4f3c4e20/bin/src/material/sort/testing/sort-harness.ts"],"sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {ComponentHarness, HarnessPredicate} from '@angular/cdk/testing';\nimport {SortDirection} from '../../sort';\nimport {SortHeaderHarnessFilters} from './sort-harness-filters';\n\n/** Harness for interacting with a standard Angular Material sort header in tests. */\nexport class MatSortHeaderHarness extends ComponentHarness {\n  static hostSelector = '.mat-sort-header';\n  private _container = this.locatorFor('.mat-sort-header-container');\n\n  /**\n   * Gets a `HarnessPredicate` that can be used to\n   * search for a sort header with specific attributes.\n   */\n  static with(options: SortHeaderHarnessFilters = {}): HarnessPredicate<MatSortHeaderHarness> {\n    return new HarnessPredicate(MatSortHeaderHarness, options)\n      .addOption('label', options.label, (harness, label) =>\n        HarnessPredicate.stringMatches(harness.getLabel(), label),\n      )\n      .addOption('sortDirection', options.sortDirection, (harness, sortDirection) => {\n        return HarnessPredicate.stringMatches(harness.getSortDirection(), sortDirection);\n      });\n  }\n\n  /** Gets the label of the sort header. */\n  async getLabel(): Promise<string> {\n    return (await this._container()).text();\n  }\n\n  /** Gets the sorting direction of the header. */\n  async getSortDirection(): Promise<SortDirection> {\n    const host = await this.host();\n    const ariaSort = await host.getAttribute('aria-sort');\n\n    if (ariaSort === 'ascending') {\n      return 'asc';\n    } else if (ariaSort === 'descending') {\n      return 'desc';\n    }\n\n    return '';\n  }\n\n  /** Gets whether the sort header is currently being sorted by. */\n  async isActive(): Promise<boolean> {\n    return !!(await this.getSortDirection());\n  }\n\n  /** Whether the sort header is disabled. */\n  async isDisabled(): Promise<boolean> {\n    return (await this.host()).hasClass('mat-sort-header-disabled');\n  }\n\n  /** Clicks the header to change its sorting direction. Only works if the header is enabled. */\n  async click(): Promise<void> {\n    return (await this.host()).click();\n  }\n}\n","/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {ComponentHarness, HarnessPredicate} from '@angular/cdk/testing';\nimport {SortHarnessFilters, SortHeaderHarnessFilters} from './sort-harness-filters';\nimport {MatSortHeaderHarness} from './sort-header-harness';\n\n/** Harness for interacting with a standard `mat-sort` in tests. */\nexport class MatSortHarness extends ComponentHarness {\n  static hostSelector = '.mat-sort';\n\n  /**\n   * Gets a `HarnessPredicate` that can be used to search for a `mat-sort` with specific attributes.\n   * @param options Options for narrowing the search.\n   * @return a `HarnessPredicate` configured with the given options.\n   */\n  static with(options: SortHarnessFilters = {}): HarnessPredicate<MatSortHarness> {\n    return new HarnessPredicate(MatSortHarness, options);\n  }\n\n  /** Gets all of the sort headers in the `mat-sort`. */\n  async getSortHeaders(filter: SortHeaderHarnessFilters = {}): Promise<MatSortHeaderHarness[]> {\n    return this.locatorForAll(MatSortHeaderHarness.with(filter))();\n  }\n\n  /** Gets the selected header in the `mat-sort`. */\n  async getActiveHeader(): Promise<MatSortHeaderHarness | null> {\n    const headers = await this.getSortHeaders();\n    for (let i = 0; i < headers.length; i++) {\n      if (await headers[i].isActive()) {\n        return headers[i];\n      }\n    }\n    return null;\n  }\n}\n"],"names":["MatSortHeaderHarness","ComponentHarness","hostSelector","_container","locatorFor","with","options","HarnessPredicate","addOption","label","harness","stringMatches","getLabel","sortDirection","getSortDirection","text","host","ariaSort","getAttribute","isActive","isDisabled","hasClass","click","MatSortHarness","getSortHeaders","filter","locatorForAll","getActiveHeader","headers","i","length"],"mappings":";;AAaM,MAAOA,oBAAqB,SAAQC,gBAAgB,CAAA;EACxD,OAAOC,YAAY,GAAG,kBAAkB;AAChCC,EAAAA,UAAU,GAAG,IAAI,CAACC,UAAU,CAAC,4BAA4B,CAAC;AAMlE,EAAA,OAAOC,IAAIA,CAACC,OAAA,GAAoC,EAAE,EAAA;IAChD,OAAO,IAAIC,gBAAgB,CAACP,oBAAoB,EAAEM,OAAO,CAAA,CACtDE,SAAS,CAAC,OAAO,EAAEF,OAAO,CAACG,KAAK,EAAE,CAACC,OAAO,EAAED,KAAK,KAChDF,gBAAgB,CAACI,aAAa,CAACD,OAAO,CAACE,QAAQ,EAAE,EAAEH,KAAK,CAAC,CAAA,CAE1DD,SAAS,CAAC,eAAe,EAAEF,OAAO,CAACO,aAAa,EAAE,CAACH,OAAO,EAAEG,aAAa,KAAI;MAC5E,OAAON,gBAAgB,CAACI,aAAa,CAACD,OAAO,CAACI,gBAAgB,EAAE,EAAED,aAAa,CAAC;AAClF,KAAC,CAAC;AACN;EAGA,MAAMD,QAAQA,GAAA;IACZ,OAAO,CAAC,MAAM,IAAI,CAACT,UAAU,EAAE,EAAEY,IAAI,EAAE;AACzC;EAGA,MAAMD,gBAAgBA,GAAA;AACpB,IAAA,MAAME,IAAI,GAAG,MAAM,IAAI,CAACA,IAAI,EAAE;IAC9B,MAAMC,QAAQ,GAAG,MAAMD,IAAI,CAACE,YAAY,CAAC,WAAW,CAAC;IAErD,IAAID,QAAQ,KAAK,WAAW,EAAE;AAC5B,MAAA,OAAO,KAAK;AACd,KAAA,MAAO,IAAIA,QAAQ,KAAK,YAAY,EAAE;AACpC,MAAA,OAAO,MAAM;AACf;AAEA,IAAA,OAAO,EAAE;AACX;EAGA,MAAME,QAAQA,GAAA;IACZ,OAAO,CAAC,EAAE,MAAM,IAAI,CAACL,gBAAgB,EAAE,CAAC;AAC1C;EAGA,MAAMM,UAAUA,GAAA;IACd,OAAO,CAAC,MAAM,IAAI,CAACJ,IAAI,EAAE,EAAEK,QAAQ,CAAC,0BAA0B,CAAC;AACjE;EAGA,MAAMC,KAAKA,GAAA;IACT,OAAO,CAAC,MAAM,IAAI,CAACN,IAAI,EAAE,EAAEM,KAAK,EAAE;AACpC;;;AClDI,MAAOC,cAAe,SAAQtB,gBAAgB,CAAA;EAClD,OAAOC,YAAY,GAAG,WAAW;AAOjC,EAAA,OAAOG,IAAIA,CAACC,OAAA,GAA8B,EAAE,EAAA;AAC1C,IAAA,OAAO,IAAIC,gBAAgB,CAACgB,cAAc,EAAEjB,OAAO,CAAC;AACtD;AAGA,EAAA,MAAMkB,cAAcA,CAACC,MAAA,GAAmC,EAAE,EAAA;AACxD,IAAA,OAAO,IAAI,CAACC,aAAa,CAAC1B,oBAAoB,CAACK,IAAI,CAACoB,MAAM,CAAC,CAAC,EAAE;AAChE;EAGA,MAAME,eAAeA,GAAA;AACnB,IAAA,MAAMC,OAAO,GAAG,MAAM,IAAI,CAACJ,cAAc,EAAE;AAC3C,IAAA,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,OAAO,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAI,MAAMD,OAAO,CAACC,CAAC,CAAC,CAACV,QAAQ,EAAE,EAAE;QAC/B,OAAOS,OAAO,CAACC,CAAC,CAAC;AACnB;AACF;AACA,IAAA,OAAO,IAAI;AACb;;;;;"}